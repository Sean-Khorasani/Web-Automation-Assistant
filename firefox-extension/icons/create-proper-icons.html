<!DOCTYPE html>
<html>
<head>
    <title>Create Proper PNG Icons</title>
</head>
<body>
    <h1>Icon Generator</h1>
    <p>Open this file in a browser and save each canvas as a PNG file with the specified name.</p>
    
    <div>
        <h2>icon-16.png</h2>
        <canvas id="icon16" width="16" height="16"></canvas>
    </div>
    
    <div>
        <h2>icon-32.png</h2>
        <canvas id="icon32" width="32" height="32"></canvas>
    </div>
    
    <div>
        <h2>icon-48.png</h2>
        <canvas id="icon48" width="48" height="48"></canvas>
    </div>
    
    <div>
        <h2>icon-128.png</h2>
        <canvas id="icon128" width="128" height="128"></canvas>
    </div>

    <script>
        function drawIcon(canvas, isRecording = false) {
            const ctx = canvas.getContext('2d');
            const size = canvas.width;
            const center = size / 2;
            
            // Clear canvas
            ctx.clearRect(0, 0, size, size);
            
            // Background circle
            ctx.beginPath();
            ctx.arc(center, center, size * 0.45, 0, Math.PI * 2);
            ctx.fillStyle = '#1e40af';
            ctx.fill();
            
            // Inner circle (record button)
            ctx.beginPath();
            ctx.arc(center, center, size * 0.2, 0, Math.PI * 2);
            ctx.fillStyle = isRecording ? '#ef4444' : '#10b981';
            ctx.fill();
            
            // Convert to data URL and create download link
            const dataUrl = canvas.toDataURL('image/png');
            const link = document.createElement('a');
            link.href = dataUrl;
            link.download = canvas.id + '.png';
            link.textContent = 'Download ' + canvas.id + '.png';
            link.style.display = 'block';
            link.style.marginTop = '10px';
            canvas.parentElement.appendChild(link);
        }
        
        // Draw all icons
        drawIcon(document.getElementById('icon16'));
        drawIcon(document.getElementById('icon32'));
        drawIcon(document.getElementById('icon48'));
        drawIcon(document.getElementById('icon128'));
        
        // Also create base64 versions directly
        const icons = {
            16: document.getElementById('icon16').toDataURL('image/png'),
            32: document.getElementById('icon32').toDataURL('image/png'),
            48: document.getElementById('icon48').toDataURL('image/png'),
            128: document.getElementById('icon128').toDataURL('image/png')
        };
        
        // Display base64 data for manual copying if needed
        const pre = document.createElement('pre');
        pre.textContent = JSON.stringify(icons, null, 2);
        pre.style.fontSize = '12px';
        pre.style.backgroundColor = '#f0f0f0';
        pre.style.padding = '10px';
        pre.style.marginTop = '20px';
        document.body.appendChild(pre);
    </script>
</body>
</html>